- name: webkitgtk-test-fonts
  no-autogen: true
  sources:
    - type: git
      url: https://github.com/WebKitGTK/webkitgtk-test-fonts.git
  buildsystem: simple
  build-commands:
    # FIXME: Make ActivateFontWPE smarter.
    - make install DESTDIR=/app/WebKitBuild/DependenciesGTK/Root

- name: xorg-util-macros
  sources:
    - type: git
      url: https://anongit.freedesktop.org/git/xorg/util/macros.git
      branch: util-macros-1.19.2

- name: xorg-font-util
  sources:
    - type: git
      url: https://anongit.freedesktop.org/git/xorg/font/util.git
      branch: font-util-1.3.1

- name: xkbfile
  sources:
    - type: git
      branch: libxkbfile-1.0.9
      url: https://anongit.freedesktop.org/git/xorg/lib/libxkbfile.git

- name: fontenc
  sources:
    - type: git
      branch: libfontenc-1.1.3
      url: https://anongit.freedesktop.org/git/xorg/lib/libfontenc.git

- name: xfont
  sources:
    - type: git
      branch: libXfont2-2.0.3
      url: https://anongit.freedesktop.org/git/xorg/lib/libXfont.git

- name: xvfb
  sources:
    - type: git
      url: https://anongit.freedesktop.org/git/xorg/xserver.git
      branch: xorg-server-1.19.6
    - type: patch
      path: patches/xvfb-0001-HACK-Avoid-compiling-a-kbm-file.patch
  config-opts:
    - --enable-xvfb
    - --disable-xwayland

- name: org.webkit.GTK
  sources:
    - type: git
      url: https://github.com/WebKit/WebKit.git
      branch: mediastream-minus-enumerateDevices
  buildsystem: simple
  build-commands:
    - /app/webkit/Tools/Scripts/build-webkit --gtk --prefix=/app

